##3.3 点滅するL E D の移動

####1.	演習の目的
　複数のLED の点滅を制御するスケッチを作成し、複数のLED を制御する
方法について学ぶ。
####2.	問題解決の方針

1. 1度に点灯するLED は1 つとし、点灯するLED を一定時間ごとに変更するようにする。

2. これが、繰り返し実行されるようにする。

3. 全てのLED が点灯されることを確認することで、正しく配線できていることも確認する。

####3.	プログラム

```C
int ledarray[10];
int picsize = 35;
char* picture[] = {
  
"1111111111",
"1111111111",
"0000110000",
"0000110000",
"1111111111",
"1111111111",
"0000000000",
"1110000011",
"1110000011",
"1111111111",
"1111111111",
"1110000011",
"1110000011",
"0000000000",
"0000000000",
"0000000000",
"1111111011",
"1111111011",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"1111111011",
"1111111011",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
};


void setup(){

  for(int i=0; i<10;i++){
    ledarray[i] = i+2; 
    pinMode(ledarray[i], OUTPUT);
  }

Serial.begin(9600);

}

void loop(){
  for(int i=0; i < picsize; i++){
    display(picture[i]);
  }
}

void display(char* pic){
  int digits[picsize];
  for(int i = 0; i <10; i++){
   digits[i] = pic[i]-'0';
   Serial.print(digits[i]);
  }
  
  for(int i = 0; i <10; i++){
   if(digits[i]==0){
    digitalWrite(ledarray[i],LOW); 
   }else if(digits[i]==1){
    digitalWrite(ledarray[i],HIGH); 
   }
  }
  
  delay(5);
}
```

####4.	実行結果
ドレミの音階を任意の長さだけ再生できるようなスケッチ，ドレミファソラシドを続けて再生するようなスケッチを作成をし，簡単な曲を演奏することができた．
####5．考察

* ドレミの音階を任意の長さだけ再生できるようなスケッチを作成
以下のコードを見ると，valをincrementさせ，繰り返し低い音程から音程をsound()で演奏していることが分かる．
```C
void loop (){
        //playの引数に任意の音程，長さを入力することができる．
        //ここではすべての音を繰り返し，鳴らすようにしている．
        for(int val=0; val <11; val++) {
                play(val, B4);
                delay(100);
        }
}
```

* ドレミファソラシドを続けて再生するような，スケッチを作成
上記のコードからdelay()を消す続けて再生するようになる．
```C
void loop (){
        //playの引数に任意の音程，長さを入力することができる．
        //ここではすべての音を繰り返し，鳴らすようにしている．
        for(int val=0; val <11; val++) {
                play(val, B4);
                
        }
}
```
* 簡単な曲を演奏する
The Gorillaz の Feel Good Inc を再生した．(https://www.youtube.com/watch?v=HyHNuVaZJ-k)
このときに，ベースラインの楽譜を用いて，楽譜から曲の音程と長さを探した．
####6.	参考文献
「情報科学基礎実験!第2章Arduinoを用いた基礎的な実験」テキスト
####7.	謝辞
この実験をレポートとして形にすることが出来たのは、ペアの杉崎さん、TAの皆様に協力していただいたおかげです｡
協力していただいた皆様へ心から感謝の気持ちと御礼を申し上げたく、謝辞にかえさせていただきます｡ 　
```C
int ledarray[10];
int picsize = 35;
char* picture[] = {
  
"1111111111",
"1111111111",
"0000110000",
"0000110000",
"1111111111",
"1111111111",
"0000000000",
"1110000011",
"1110000011",
"1111111111",
"1111111111",
"1110000011",
"1110000011",
"0000000000",
"0000000000",
"0000000000",
"1111111011",
"1111111011",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"1111111011",
"1111111011",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
"0000000000",
};


void setup(){

  for(int i=0; i<10;i++){
    ledarray[i] = i+2; 
    pinMode(ledarray[i], OUTPUT);
  }

Serial.begin(9600);

}

void loop(){
  for(int i=0; i < picsize; i++){
    display(picture[i]);
  }
}

void display(char* pic){
  int digits[picsize];
  for(int i = 0; i <10; i++){
   digits[i] = pic[i]-'0';
   Serial.print(digits[i]);
  }
  
  for(int i = 0; i <10; i++){
   if(digits[i]==0){
    digitalWrite(ledarray[i],LOW); 
   }else if(digits[i]==1){
    digitalWrite(ledarray[i],HIGH); 
   }
  }
  
  delay(5);
}
```
